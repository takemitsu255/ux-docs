# __運用フローについて__

## 通常運用

- 開発依頼を受けた際、`master` から機能開発用のBranchを作成する。
```
コマンド例：git checkout -b feature/VNET-100 origin/master
```

- `staging` / `master` に対してPRを作成する。

- PR作成者以外がReviewを行い、承認後にMergeを実施する。

<img src="./img/通常運用.png" alt="通常運用" width="50%">

## `staging` へのPR作成時にコンフリクト発生
- 開発依頼を受けた際、`master` から機能開発用のBranchを作成する。
```
[コマンド例]
# git checkout -b feature/VNET-100 origin/master
```

- `staging` / `master` に対してPRを作成するが、`staging`にのみ <span style="color:red">__コンフリクト__</span> が発生する。

- 案件内のコンフリクトの場合

    ※ 内容を確認後、コンフリクト解消して再Pushを行う。

- 案件外のコンフリクトの場合

    ※ 藤原さん / 三浦さんに優先される案件（リリース時期）を確認し、コンフリクト解消して再Pushを行う。
```
[コマンド例]
# 履歴取得
git fetch --all

# stagin branch 切り替え
git checkout staging

# remote staging の内容をPull
git pull origin stagin

# コンフリクト解消用 staging branchの作成
git checkout -b feature/VNET-100-1 origin/feature/VNET-100

# stagingとfeature branchをMerge
git merge staging

# コンフリクト発生するため手動で対応する。

# staging コンフリクト解消用としてPush
git push origin VNET-100-1
``` 

